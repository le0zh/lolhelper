<phone:PhoneApplicationPage
    x:Class="LolWikiApp.HomePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
    xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit"
    xmlns:local="clr-namespace:LolWikiApp"
    mc:Ignorable="d"
    FontFamily="{StaticResource PhoneFontFamilyNormal}"
    FontSize="{StaticResource PhoneFontSizeNormal}"
    SupportedOrientations="Portrait" 
    shell:SystemTray.IsVisible="False"
    shell:SystemTray.Opacity="1"
    shell:SystemTray.BackgroundColor="#29282e"
    shell:SystemTray.ForegroundColor="White"
    toolkit:TiltEffect.IsTiltEnabled="True"    
    BackKeyPress="HomePage_OnBackKeyPress">

    <shell:SystemTray.ProgressIndicator>
        <shell:ProgressIndicator IsIndeterminate="true" IsVisible="False" Text="加载中..." />
    </shell:SystemTray.ProgressIndicator>

    <Grid>
        <phone:Pivot SelectionChanged="MainPivot_OnSelectionChanged" 
                     x:Name="MainPivot" 
                     Foreground="White"
                     Style="{StaticResource PivotStyle1}" ItemContainerStyle="{StaticResource PivotItemStyle1}" >
            <!--PivotItem item 1-->
            <phone:PivotItem Header="资讯中心">
                <Grid Margin="0 0 0 0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"></RowDefinition>
                        <RowDefinition Height="Auto"></RowDefinition>
                        <RowDefinition Height="60"></RowDefinition>
                        <RowDefinition Height="*"></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel x:Name="NewsLoadingBar" Grid.Row="0" Orientation="Vertical" Margin="18,24,0,0">
                        <ProgressBar HorizontalAlignment="Left" Height="20" VerticalAlignment="Top" Width="400" IsIndeterminate="True"/>
                        <TextBlock Text="加载中" Foreground="{StaticResource PhoneSubtleBrush}" VerticalAlignment="Center"></TextBlock>
                    </StackPanel>

                    <local:HttpRequest404Control Grid.Row="1" Margin="18 24 0 0" Visibility="Collapsed"
                                    x:Name="NewsRetryNetPanel" Message="加载资讯列表失败。"/>

                    <Grid Width="480" x:Name="CategoryGrid" Margin="0" Background="Transparent" Grid.Row="2" Visibility="Visible" Height="60" VerticalAlignment="Top" Tap="ButtonBase_OnClick" RenderTransformOrigin="0.5,0.5">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition Height="4"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid x:Name="CategoryBackGroundGrid" Grid.Row="0" Background="#29282e" Opacity="0.8"></Grid>
                        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right">
                            <Image Source="/Data/hanbaobao.png" HorizontalAlignment="Right"></Image>
                            <TextBlock Text="最新资讯" x:Name="CategoryTextBlock" Foreground="White" Margin="0 0 12 0" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="{StaticResource PhoneFontSizeMedium}"></TextBlock>
                        </StackPanel>
                        <Grid Grid.Row="1" Background="LightGray" OpacityMask="LightGray">
                        </Grid>
                    </Grid>

                    <local:RefreshableListBox Grid.Row="3"
                                    Tap="NewsLongListSelector_Tap"
                                    Visibility="Collapsed"
                                    x:Name="NewsLongListSelector" 
                                    IsGetMoreEnabled="True"
                                    Margin="0 -4 0 0"
                                    Loaded="NewsLongListSelector_OnLoaded"
                                    GettingMoreTriggered="NewsLongListSelector_OnGettingMoreTriggered"
                                    IsRefreshEnabled="False"
                                    ListScrollingUp="LongListSelector_OnListScrollingUp"
                                    ListScrollingDown="LongListSelector_OnListScrollingDown"
                                    MinWidth="468">
                        <local:RefreshableListBox.ItemTemplate>
                            <DataTemplate>
                                <local:NewsListItemDataTemplateSelector Content="{Binding}">
                                    <local:NewsListItemDataTemplateSelector.NormalNewsDataTemplate>
                                        <DataTemplate>
                                            <Border x:Name="NewsListItemBorder" BorderBrush="Gray" BorderThickness="0 0 0 0.5" Padding="10" >
                                                <Border.Projection>
                                                    <PlaneProjection></PlaneProjection>
                                                </Border.Projection>
                                                <Border.Triggers>
                                                    <EventTrigger RoutedEvent="Border.Loaded">
                                                        <BeginStoryboard>
                                                            <BeginStoryboard.Storyboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetName="NewsListItemBorder" Storyboard.TargetProperty="(Projection).(PlaneProjection.RotationX)" From="-120" To="0" Duration="0:0:0.5" />
                                                                    <DoubleAnimation Storyboard.TargetName="NewsListItemBorder"  Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:1"></DoubleAnimation>
                                                                </Storyboard>
                                                            </BeginStoryboard.Storyboard>
                                                        </BeginStoryboard>
                                                    </EventTrigger>
                                                </Border.Triggers>

                                                <Grid MinWidth="460">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="128"></ColumnDefinition>
                                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                                    </Grid.ColumnDefinitions>

                                                    <Image Grid.Column="0"
                                                               Margin="0 0 8 0"
                                                               VerticalAlignment="Top" Width="120" Height="120" HorizontalAlignment="Left" Stretch="UniformToFill" Source="{Binding Img, Converter={StaticResource ImageSourceConverter}}"></Image>

                                                    <StackPanel Grid.Column="1" Orientation="Vertical">
                                                        <TextBlock  Text="{Binding Title}" FontSize="{StaticResource PhoneFontSizeNormal}" FontWeight="SemiBold" TextWrapping="Wrap" Foreground="Black"></TextBlock>
                                                        <TextBlock Text="{Binding DescDisplay}"
								                                           Foreground="Gray"
                                                                           FontSize="{StaticResource PhoneFontSizeSmall}" TextWrapping="Wrap"></TextBlock>
                                                        <!--<TextBlock  Foreground="Gray" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="{StaticResource PhoneFontSizeSmall}">
                                                                    <Run Text="{Binding PostTime}"></Run></TextBlock>-->
                                                    </StackPanel>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </local:NewsListItemDataTemplateSelector.NormalNewsDataTemplate>

                                    <local:NewsListItemDataTemplateSelector.FlipViewNewsDataTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <toolkit:FlipView x:Name="HorizontalFlipView"
                                                      ItemsSource="{Binding BannerListInfos}"
                                                      UseTouchAnimationsForAllNavigation="True"
                                                      Tap="HorizontalFlipView_Tap"
                                                      MinWidth="468"
                                                      Margin="0" >
                                                    <toolkit:FlipView.ItemTemplate>
                                                        <DataTemplate>
                                                            <Image Source="{Binding Img}" Stretch="Fill" ></Image>
                                                        </DataTemplate>
                                                    </toolkit:FlipView.ItemTemplate>
                                                </toolkit:FlipView>

                                                <Border Height="30" VerticalAlignment="Bottom">
                                                    <TextBlock HorizontalAlignment="Center" Foreground="White" FontWeight="Bold">
                                                        <Run Text="{Binding ElementName = HorizontalFlipView, Path=SelectedIndex, Converter={StaticResource SelectedItemConverter}}"></Run>
                                                        <Run Text="/"></Run>
                                                        <Run Text="{Binding ElementName = HorizontalFlipView, Path=Items.Count}"></Run>
                                                    </TextBlock>
                                                </Border>
                                            </Grid>
                                        </DataTemplate>
                                    </local:NewsListItemDataTemplateSelector.FlipViewNewsDataTemplate>

                                    <local:NewsListItemDataTemplateSelector.TcViewNewsDataTemplate>
                                        <DataTemplate>
                                            <Border x:Name="TcNewsListItemBorder" BorderBrush="Gray" BorderThickness="0 0 0 0.5" Padding="10" >
                                                <Border.Projection>
                                                    <PlaneProjection></PlaneProjection>
                                                </Border.Projection>
                                                <Border.Triggers>
                                                    <EventTrigger RoutedEvent="Border.Loaded">
                                                        <BeginStoryboard>
                                                            <BeginStoryboard.Storyboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetName="TcNewsListItemBorder" Storyboard.TargetProperty="(Projection).(PlaneProjection.RotationX)" From="-120" To="0" Duration="0:0:0.5" />
                                                                    <DoubleAnimation Storyboard.TargetName="TcNewsListItemBorder"  Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:1"></DoubleAnimation>
                                                                </Storyboard>
                                                            </BeginStoryboard.Storyboard>
                                                        </BeginStoryboard>
                                                    </EventTrigger>
                                                </Border.Triggers>
                                                <Grid MinWidth="468">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"></RowDefinition>
                                                        <RowDefinition Height="Auto"></RowDefinition>
                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="128"></ColumnDefinition>
                                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                                    </Grid.ColumnDefinitions>

                                                    <Image Grid.Row="0" Grid.RowSpan="2" Grid.Column="0"
                                                           Margin="0 0 8 0"
                                                           VerticalAlignment="Top" Width="120" Height="120" HorizontalAlignment="Left" Stretch="Uniform" Source="{Binding image_url_small, Converter={StaticResource ImageSourceConverter}}"></Image>

                                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding title}" FontSize="{StaticResource PhoneFontSizeNormal}" FontWeight="SemiBold" TextWrapping="Wrap" Foreground="Black"></TextBlock>
                                                    <Border Grid.Column="1" Grid.Row="1" Padding="0 0 8 0">
                                                        <TextBlock Text="{Binding SummaryDisplay}"
								                                   Foreground="Gray"
								                                   FontSize="{StaticResource PhoneFontSizeSmall}" TextWrapping="Wrap"></TextBlock>
                                                    </Border>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </local:NewsListItemDataTemplateSelector.TcViewNewsDataTemplate>
                                </local:NewsListItemDataTemplateSelector>
                            </DataTemplate>
                        </local:RefreshableListBox.ItemTemplate>
                    </local:RefreshableListBox>
                </Grid>
            </phone:PivotItem>

            <!--PivotItem item 2-->
            <phone:PivotItem Header="周免英雄">
                <!--<ScrollViewer Margin="0 0 -32 0" VerticalScrollBarVisibility="Auto">-->
                <StackPanel  Margin="0 0 0 0" >
                    <StackPanel x:Name="FreeHeroLoadingBar" Orientation="Vertical" Margin="18,24,0,0">
                        <ProgressBar HorizontalAlignment="Left" Height="20" VerticalAlignment="Top" Width="400" IsIndeterminate="True"/>
                        <TextBlock Text="加载中" Foreground="{StaticResource PhoneSubtleBrush}"></TextBlock>
                    </StackPanel>

                    <local:HttpRequest404Control Margin="18 24 0 0" Visibility="Collapsed"
                                    x:Name="FreeHeroRetryNetPanel" Message="加载周免英雄失败。"/>

                    <toolkit:WrapPanel Margin="12 0 -24 0" x:Name="HeroWrapPanel" Orientation="Horizontal" />
                </StackPanel>

                <!--</ScrollViewer>-->
            </phone:PivotItem>

            <!--PivotItem item 3-->
            <phone:PivotItem Header="我的关注" Foreground="Black">
                <!--<ScrollViewer Margin="0">-->
                <Grid Margin="0 0 0 0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"></RowDefinition>
                        <RowDefinition Height="Auto"></RowDefinition>
                        <RowDefinition Height="Auto"></RowDefinition>
                        <RowDefinition Height="*"></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel x:Name="MyDataLoadingBar" Grid.Row="0" Visibility="Collapsed" Margin="18 24 0 0" Orientation="Vertical">
                        <ProgressBar Visibility="Visible" HorizontalAlignment="Left" Height="18"   VerticalAlignment="Top" Width="383" IsIndeterminate="True"/>
                        <TextBlock Text="加载中" Foreground="{StaticResource PhoneSubtleBrush}"></TextBlock>
                    </StackPanel>

                    <StackPanel Visibility="Collapsed" Grid.Row="1" x:Name="NeedBindPlayerInfoPanel" Margin="18 24 0 0">
                        <TextBlock Text="您还没有关绑定唤师信息。" Foreground="{StaticResource PhoneSubtleBrush}"></TextBlock>
                        <!--<Button Width="150" HorizontalAlignment="Left" Content="绑定" Margin="-12 12 0 0" x:Name="AddFollowButton" Click="AddFollowButton_OnClick"></Button>-->
                    </StackPanel>

                    <local:HttpRequest404Control Grid.Row="2" Margin="18 24 0 0" Visibility="Collapsed"
                                    x:Name="MyInfomationRetryNetPanel" Message="加载召唤师信息失败。"/>

                    <phone:LongListSelector Grid.Row="3" x:Name="PlayerRecordPanel" Visibility="Collapsed" Tap="PlayerRecordPanel_OnTap" >
                        <phone:LongListSelector.ItemTemplate>
                            <DataTemplate>
                                <Border MinWidth="480" Padding="12" BorderThickness="0 0 0 1" BorderBrush="{StaticResource PhoneBorderBrush}">
                                    <toolkit:ContextMenuService.ContextMenu>
                                        <toolkit:ContextMenu IsZoomEnabled="False" IsFadeEnabled="False" Foreground="White" Background="Black">
                                            <toolkit:MenuItem Header="取消关注" Tag="{Binding}" Click="MenuItem_OnClick" />
                                        </toolkit:ContextMenu>
                                    </toolkit:ContextMenuService.ContextMenu>

                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="40"></RowDefinition>
                                            <RowDefinition Height="60"></RowDefinition>
                                        </Grid.RowDefinitions>

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"></ColumnDefinition>
                                            <ColumnDefinition Width="*"></ColumnDefinition>
                                        </Grid.ColumnDefinitions>

                                        <Canvas Grid.Column="0" Width="100" Height="100">
                                            <Image Source="{Binding PhotoUrl}" Width="100" Height="100" Stretch="UniformToFill"></Image>
                                            <StackPanel Height="30" Canvas.Top="70" Background="{StaticResource PhoneAccentBrush}">
                                                <TextBlock HorizontalAlignment="Left" FontSize="{StaticResource PhoneFontSizeSmall}"  VerticalAlignment="Center" Foreground="White" Margin="0 0 0 0">
                                                    <Run Text="Lv"></Run>
                                                    <Run Text="{Binding Level}"></Run>
                                                </TextBlock>
                                            </StackPanel>
                                        </Canvas>

                                        <StackPanel Grid.Row="0" Grid.Column="1" Margin="12 0 0 0" Orientation="Horizontal">
                                            <TextBlock Text="{Binding Name}" FontSize="{StaticResource PhoneFontSizeLarge}" VerticalAlignment="Bottom"></TextBlock>
                                            <TextBlock Margin="12 0 0 0"  VerticalAlignment="Center">
                                                <Run Text="("></Run>
                                                <Run Text="{Binding ServerInfo.DisplayName}"></Run>
                                                <Run Text=")"></Run>
                                            </TextBlock>
                                            <Image  Height="30" Stretch="UniformToFill" Source="{Binding Range, Converter={StaticResource LevelImageSourceConverter}}" VerticalAlignment="Center"></Image>
                                        </StackPanel>

                                        <StackPanel Grid.Row="1" Grid.Column="1" Margin="12 0 0 0" Orientation="Horizontal">
                                            <Border Background="Gray" Padding="4"  Margin="0 0 12 0">
                                                <StackPanel  Height="60">
                                                    <TextBlock Foreground="White" Text="{Binding Power}" HorizontalAlignment="Center"></TextBlock>
                                                    <TextBlock Foreground="White" Margin="0 0 0 0" Text="战斗力" FontSize="{StaticResource PhoneFontSizeSmall}" HorizontalAlignment="Center"></TextBlock>
                                                </StackPanel>
                                            </Border>

                                            <Border Background="Gray" Padding="4"  Margin="0 0 12 0">
                                                <StackPanel Height="60">
                                                    <TextBlock Foreground="White" Text="{Binding TotalGamesNumber}" HorizontalAlignment="Center"></TextBlock>
                                                    <TextBlock Foreground="White" Margin="0 0 0 0" Text="匹配总场次" FontSize="{StaticResource PhoneFontSizeSmall}" HorizontalAlignment="Center"></TextBlock>
                                                </StackPanel>
                                            </Border>

                                            <Border Background="Gray" Padding="4"  Margin="0 0 12 0">
                                                <StackPanel Height="60">
                                                    <TextBlock Foreground="White" Text="{Binding RankGmeInfo.WinNumber}" HorizontalAlignment="Center"></TextBlock>
                                                    <TextBlock Foreground="White" Margin="0 0 0 0" Text="排位胜场次" FontSize="{StaticResource PhoneFontSizeSmall}" HorizontalAlignment="Center"></TextBlock>
                                                </StackPanel>
                                            </Border>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </phone:LongListSelector.ItemTemplate>
                    </phone:LongListSelector>
                </Grid>
                <!--</ScrollViewer>-->
            </phone:PivotItem>

            <!--PivotItem item 4-->
            <phone:PivotItem Header="更多" >
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"></RowDefinition>
                        <RowDefinition Height="*"></RowDefinition>
                        <RowDefinition Height="*"></RowDefinition>
                        <RowDefinition Height="*"></RowDefinition>
                    </Grid.RowDefinitions>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Border BorderBrush="LightGray" BorderThickness="1 0 1 1" Grid.Row="0" Grid.Column="0" >
                        <Button x:Name="VideoButton" Click="VideoButton_OnClick" Padding="20" HorizontalAlignment="Center" VerticalAlignment="Center" BorderThickness="0">
                            <StackPanel >
                                <Path Width="44" Height="38" HorizontalAlignment="Center" Stretch="Fill" Fill="Gray" Data="F1 M 22,19L 54,19L 54,22L 61,22L 61,52L 54,52L 54,57L 22,57L 22,54L 17,54L 17,24L 22,24L 22,19 Z M 25,22.0001L 25,48L 51,48L 51,22L 25,22.0001 Z M 20,27.0001L 20,45L 22,45L 22,27.0001L 20,27.0001 Z M 54,43L 57.9999,43L 57.9999,25L 54,25L 54,43 Z M 30,33L 30,37L 28,37L 28,33L 30,33 Z M 40.25,32C 41.0784,32 42,32.9216 42,33.75L 42,39.25C 42,40.0784 41.0784,41 40.25,41L 31,41L 31,32.0001L 40.25,32 Z M 43,34L 48,30L 48,42L 43,38L 43,34 Z "/>
                                <TextBlock Margin="0" Text="视频中心"  FontSize="{StaticResource PhoneFontSizeMedium}" Foreground="Black"></TextBlock>
                            </StackPanel>
                        </Button>
                    </Border>

                    <Border BorderBrush="LightGray" BorderThickness="0 0 1 1" Grid.Row="0" Grid.Column="1">
                        <Button x:Name="ShakeItButton" Click="ShakeItButton_OnClick" Padding="20" HorizontalAlignment="Center" BorderThickness="0">
                            <StackPanel >
                                <Path Width="26" Height="38"  HorizontalAlignment="Center" Stretch="Fill" Fill="Gray" Data="F1 M 38.7308,41.2885C 39.1344,41.2885 39.4615,41.6156 39.4615,42.0192C 39.4615,42.4228 39.1344,42.75 38.7308,42.75C 38.3272,42.75 38,42.4228 38,42.0192C 38,41.6156 38.3272,41.2885 38.7308,41.2885 Z M 38.7308,43.9679C 39.1344,43.9679 39.4615,44.2951 39.4615,44.6987C 39.4615,45.1023 39.1344,45.4295 38.7308,45.4295C 38.3272,45.4295 38,45.1023 38,44.6987C 38,44.2951 38.3272,43.9679 38.7308,43.9679 Z M 25,19L 51,19L 51,23L 48,23C 47.4988,26.4603 45.8383,35.4399 40.9736,38C 45.8383,40.5601 47.4988,49.5397 48,53L 51,53L 51,57L 25,57L 25,53L 28,53C 28.5012,49.5397 30.1617,40.5601 35.0263,38C 30.1617,35.4399 28.5012,26.4603 28,23L 25,23L 25,19 Z M 31.5,23C 31.5,23 32.1462,27.7236 33.5926,31.4175C 35.949,30.3012 40.5893,28.4977 42.7967,30.3611C 43.9835,26.945 44.5,23 44.5,23L 31.5,23 Z M 44.5257,53C 44.5257,53 42.3846,39.4616 38,39.4616C 34.2038,39.4616 31.9999,49.7062 31.4904,52.3528C 33.7637,50.729 37.3905,47.7441 38.3654,46.7692C 38.3654,46.7692 41.0693,51.2865 43.6676,53L 44.5257,53 Z "/>
                                <TextBlock Margin="0" Text="摇一摇"  FontSize="{StaticResource PhoneFontSizeMedium}" Foreground="Black"></TextBlock>
                            </StackPanel>
                        </Button>
                    </Border>

                    <Border BorderBrush="LightGray" BorderThickness="0 0 1 1" Grid.Row="0" Grid.Column="2">
                        <Button x:Name="SearchRecordButton" Click="SearchRecordButton_OnClick" Padding="20" HorizontalAlignment="Center" BorderThickness="0">
                            <StackPanel >
                                <Path Width="50" Height="43" HorizontalAlignment="Center" Stretch="Fill" Fill="Gray" Data="F1 M 39.5,38C 44.1944,38 48,41.8056 48,46.5C 48,51.1944 44.1944,55 39.5,55C 38.0628,55 36.7089,54.6433 35.5219,54.0136L 30.2678,59.2678C 29.2915,60.2441 27.7085,60.2441 26.7322,59.2678C 25.7559,58.2915 25.7559,56.7085 26.7322,55.7322L 31.9864,50.4781C 31.3567,49.2912 31,47.9372 31,46.5C 31,41.8056 34.8056,38 39.5,38 Z M 39.5,42C 37.0147,42 35,44.0147 35,46.5C 35,48.9853 37.0147,51 39.5,51C 41.9853,51 44,48.9853 44,46.5C 44,44.0147 41.9853,42 39.5,42 Z M 24.7333,23C 27.6789,23 30.0667,25.3878 30.0667,28.3333C 30.0667,31.2789 27.6789,33.6667 24.7333,33.6667C 21.7878,33.6667 19.4,31.2789 19.4,28.3333C 19.4,25.3878 21.7878,23 24.7333,23 Z M 19.4,40.3834C 18.6889,40.7389 17.2667,43.5833 17.2667,43.5833C 17.2667,43.5833 16.5556,44.65 16.2,48.9166L 13,47.85L 14.0667,42.5167C 14.0667,42.5167 16.2,35.05 20.4666,35.0501L 27.8503,35.0501C 28.7183,32.8756 30.6793,29.0501 33.7333,29.0501L 42.2666,29.0501C 45.3206,29.0501 47.2817,32.8756 48.1497,35.0501L 55.5332,35.0501C 59.8,35.05 61.9333,42.5167 61.9333,42.5167L 63,47.85L 59.8,48.9167C 59.4444,44.65 58.7334,43.5833 58.7334,43.5833C 58.7334,43.5833 57.3111,40.7389 56.6,40.3833L 57.031,50.0704C 55.4095,50.7029 53.6453,51.05 51.8,51.05C 50.6941,51.05 49.6172,50.9253 48.5828,50.6893C 49.1716,49.415 49.5,47.9959 49.5,46.5C 49.5,40.9772 45.0228,36.5 39.5,36.5C 35.8593,36.5 32.6731,38.4455 30.9242,41.3536C 30.612,40.8873 30.3008,40.5004 30.0666,40.3834L 30.1775,42.8745C 29.74,43.9985 29.5,45.2212 29.5,46.5C 29.5,47.8005 29.7482,49.043 30.2,50.1828C 28.6611,50.7439 26.9996,51.05 25.2666,51.05C 23.0173,51.05 20.8884,50.5343 18.9918,49.6146L 19.4,40.3834 Z M 43.3333,34.3834L 43.4489,36.9807C 43.7874,36.5864 44.156,36.2274 44.5548,35.9288C 44.1353,35.2331 43.6595,34.5464 43.3333,34.3834 Z M 38,17C 40.9455,17 43.3333,19.3878 43.3333,22.3334C 43.3333,25.2789 40.9455,27.6667 38,27.6667C 35.0545,27.6667 32.6667,25.2789 32.6667,22.3334C 32.6667,19.3878 35.0545,17 38,17 Z M 32.6667,34.3834C 32.3405,34.5464 31.8647,35.2332 31.4452,35.9289C 31.8442,36.2276 32.2131,36.5869 32.5518,36.9815L 32.6667,34.3834 Z M 51.2667,23C 54.2122,23 56.6,25.3878 56.6,28.3334C 56.6,31.2789 54.2122,33.6667 51.2667,33.6667C 48.3211,33.6667 45.9333,31.2789 45.9333,28.3334C 45.9333,25.3878 48.3211,23 51.2667,23 Z "/>
                                <TextBlock Margin="0" Text="战绩查询"  FontSize="{StaticResource PhoneFontSizeMedium}" Foreground="Black"></TextBlock>
                            </StackPanel>
                        </Button>
                    </Border>

                    <Border BorderBrush="LightGray" BorderThickness="1 0 1 1" Grid.Row="1" Grid.Column="0">
                        <Button x:Name="RateButton" Click="RateButton_OnClick" Padding="20" HorizontalAlignment="Center" BorderThickness="0">
                            <StackPanel>
                                <Path Width="34" Height="40.112" HorizontalAlignment="Center" Stretch="Fill" Fill="Gray" Data="F1 M 49,57.25L 21,51.75L 21,30.75L 49,25L 55,27L 55,55L 49,57.25 Z M 27,35.5L 27,40L 33,40L 33,34.6L 27,35.5 Z M 33,47.15L 33,41L 27,41L 27,46.25L 33,47.15 Z M 42,33.25L 34,34.45L 34,40L 42,40L 42,33.25 Z M 42,48.5L 42,41L 34,41L 34,47.3L 42,48.5 Z M 41,20.1563C 42.6568,19.6903 45,20.4057 45,22.0625L 44.9999,24.8215L 42.9999,25.2857L 42.9999,23.5938C 42.9999,22.4893 42.1045,21.8457 41,22.1563L 39.9995,22.469L 40.0001,25.8929L 38.0001,26.3571L 37.9995,23.2502C 36.8952,23.561 36,23.7082 36,24.8126L 36,26.7857L 34,27.25L 34,24.3438C 34,22.6872 36.3428,21.7164 37.9994,21.2502L 37.9992,20.7758C 37.9991,19.6713 37.1035,18.9693 35.9989,19.2077L 32.9989,19.9464C 31.8943,20.1849 30.999,21.2736 30.9991,22.3782L 31,27.8215L 29,28.2857L 28.9992,21.844C 28.9989,20.1872 30.3419,18.5541 31.9987,18.1964L 36.9988,17.2078C 38.6556,16.85 39.999,17.9031 39.9992,19.5599L 39.9994,20.469L 41,20.1563 Z "/>
                                <TextBlock Margin="0" Text="评价我们"  FontSize="{StaticResource PhoneFontSizeMedium}" Foreground="Black"></TextBlock>
                            </StackPanel>
                        </Button>
                    </Border>


                    <Border BorderBrush="LightGray" BorderThickness="0 0 1 1" Grid.Row="1" Grid.Column="1">
                        <Button x:Name="HuangliButton" Click="HuangliButton_OnClick" Padding="20" HorizontalAlignment="Center" BorderThickness="0">
                            <StackPanel>
                                <Path Width="40.0056" Height="39.0058"  Stretch="Fill" Fill="Gray" Data="F1 M 18.0025,57.0081L 18.0025,23.0032L 23.0032,23.0032L 23.0032,20.0028C 23.0033,18.898 23.8988,18.0025 25.0035,18.0025L 29.004,18.0025C 30.1087,18.0025 31.0042,18.898 31.0043,20.0026L 31.0043,23.0032L 45.0063,23.0032L 45.0062,20.0026C 45.0062,18.8978 45.9018,18.0023 47.0065,18.0023L 51.0071,18.0023C 52.1118,18.0023 53.0074,18.8978 53.0074,20.0026L 53.0074,23.0032L 58.0081,23.0032L 58.0081,57.0081L 18.0025,57.0081 Z M 21.0029,54.0077L 55.0076,54.0077L 55.0076,31.0044L 21.0029,31.0044L 21.0029,54.0077 Z M 23.0032,47.0066L 29.004,47.0066L 29.004,52.0073L 23.0032,52.0073L 23.0032,47.0066 Z M 31.0043,47.0066L 37.0051,47.0066L 37.0051,52.0073L 31.0043,52.0073L 31.0043,47.0066 Z M 39.0054,47.0066L 45.0062,47.0066L 45.0062,52.0073L 39.0054,52.0073L 39.0054,47.0066 Z M 47.0065,47.0066L 53.0074,47.0066L 53.0074,52.0073L 47.0065,52.0073L 47.0065,47.0066 Z M 23.0032,40.0056L 29.004,40.0056L 29.004,45.0063L 23.0032,45.0063L 23.0032,40.0056 Z M 31.0043,40.0056L 37.0051,40.0056L 37.0051,45.0063L 31.0043,45.0063L 31.0043,40.0056 Z M 39.0054,40.0056L 45.0062,40.0056L 45.0062,45.0063L 39.0054,45.0063L 39.0054,40.0056 Z M 47.0065,40.0056L 53.0074,40.0056L 53.0074,45.0063L 47.0065,45.0063L 47.0065,40.0056 Z M 31.0043,33.0048L 37.0051,33.0048L 37.0051,38.0055L 31.0043,38.0055L 31.0043,33.0048 Z M 39.0054,33.0048L 45.0062,33.0048L 45.0062,38.0055L 39.0054,38.0055L 39.0054,33.0048 Z M 47.0065,33.0048L 53.0074,33.0048L 53.0074,38.0055L 47.0065,38.0055L 47.0065,33.0048 Z M 48.5067,20.0029C 47.6782,20.0029 47.0065,20.6745 47.0065,21.5031L 47.0065,24.5035C 47.0065,25.332 47.6782,26.0037 48.5067,26.0037L 49.5068,26.0037C 50.3354,26.0037 51.0071,25.332 51.0071,24.5035L 51.0071,21.5031C 51.0071,20.6745 50.3354,20.0029 49.5068,20.0029L 48.5067,20.0029 Z M 26.5037,20.0028C 25.6751,20.0028 25.0035,20.6745 25.0035,21.503L 25.0035,24.5035C 25.0035,25.332 25.6751,26.0037 26.5037,26.0037L 27.5038,26.0037C 28.3324,26.0037 29.004,25.332 29.004,24.5035L 29.004,21.503C 29.004,20.6745 28.3324,20.0028 27.5038,20.0028L 26.5037,20.0028 Z M 32.0045,41.0057L 32.0045,44.0061L 36.005,44.0061L 36.005,41.0057L 32.0045,41.0057 Z "/>
                                <TextBlock Margin="0" Text="老黄历"  FontSize="{StaticResource PhoneFontSizeMedium}" Foreground="Black"></TextBlock>
                            </StackPanel>
                        </Button>
                    </Border>

                    <Border BorderBrush="LightGray" BorderThickness="0 0 1 1" Grid.Row="1" Grid.Column="2">
                        <Button x:Name="AllHeroButton" Click="AllHeroButton_OnClick" Padding="20" HorizontalAlignment="Center" BorderThickness="0">
                            <StackPanel>
                                <Path Width="34" Height="38"  Stretch="Fill" Fill="Gray" Data="F1 M 38,19C 47.3888,19 55,21.0147 55,23.5038L 55,25.5C 55,27.9853 47.3888,30 38,30C 28.6112,30 21,27.9853 21,25.5L 21,23.5C 21,21.0147 28.6112,19 38,19 Z M 55,52.5C 55,54.9853 47.3888,57 38,57C 28.6112,57 21,54.9853 21,52.5L 21,46.5C 21,48.9853 28.6112,51 38,51C 47.384,51 54.9921,48.9874 55,46.5039L 55,52.5 Z M 55,43.5C 55,45.9853 47.3888,48 38,48C 28.6112,48 21,45.9853 21,43.5L 21,37.5C 21,39.9853 28.6112,42 38,42C 47.384,42 54.9921,39.9874 55,37.5038L 55,43.5 Z M 55,34.5C 55,36.9853 47.3888,39 38,39C 28.6112,39 21,36.9853 21,34.5L 21,28.5C 21,30.9853 28.6112,33 38,33C 47.384,33 54.9921,30.9874 55,28.5038L 55,34.5 Z "/>
                                <TextBlock Margin="0" Text="英雄数据"  FontSize="{StaticResource PhoneFontSizeMedium}" Foreground="Black"></TextBlock>
                            </StackPanel>
                        </Button>
                    </Border>

                    <Border BorderBrush="LightGray" BorderThickness="1 0 1 1" Grid.Row="2" Grid.Column="0">
                        <Button x:Name="AllItemButton" Click="AllItemButton_OnClick" Padding="20" HorizontalAlignment="Center" BorderThickness="0">
                            <StackPanel>
                                <Path Width="38" Height="38" Stretch="Fill" Fill="Gray" Data="F1 M 38,19C 48.4934,19 57,27.5066 57,38C 57,48.4934 48.4934,57 38,57C 27.5066,57 19,48.4934 19,38C 19,27.5066 27.5066,19 38,19 Z M 38,23C 29.7157,23 23,29.7157 23,38C 23,46.2843 29.7157,53 38,53C 46.2843,53 53,46.2843 53,38C 53,29.7157 46.2843,23 38,23 Z M 38,26C 44.6274,26 50,31.3726 50,38C 50,44.6274 44.6274,50 38,50C 31.3726,50 26,44.6274 26,38C 26,31.3726 31.3726,26 38,26 Z M 30,38C 30,40.6466 31.2851,42.993 33.2654,44.4492L 35,38.75L 30.4363,35.3873C 30.1536,36.2061 30,37.0851 30,38 Z M 38,46C 39.7591,46 41.3855,45.4323 42.7061,44.47L 38,41.25L 33.2938,44.47C 34.6144,45.4323 36.2409,46 38,46 Z M 46,38C 46,37.1356 45.8629,36.3033 45.6093,35.5235L 41,38.75L 42.7345,44.4493C 44.7148,42.993 46,40.6466 46,38 Z M 40,35.25L 45.5148,35.25C 44.4033,32.2134 41.5037,30.0386 38.0911,30.0005L 40,35.25 Z M 36,35.25L 37.9089,30.0005C 34.4963,30.0386 31.5967,32.2134 30.4852,35.25L 36,35.25 Z "/>
                                <TextBlock Margin="0" Text="装备数据"  FontSize="{StaticResource PhoneFontSizeMedium}" Foreground="Black"></TextBlock>
                            </StackPanel>
                        </Button>
                    </Border>
                </Grid>
            </phone:PivotItem>
        </phone:Pivot>

        <Popup x:Name="SlideMenuPopup">
            <Grid x:Name="PopGrid" Background="{StaticResource PhoneSemitransparentBrush}"  Width="480" Height="1280" Tap="PopGrid_OnTap">
                <Grid  x:Name="MenuListStackPanel" Tap="MenuListStackPanel_OnTap" Width="220" Background="Black" HorizontalAlignment="Right">
                    <Grid.RenderTransform>
                        <TranslateTransform></TranslateTransform>
                    </Grid.RenderTransform>
                    <Grid.Projection>
                        <PlaneProjection></PlaneProjection>
                    </Grid.Projection>
                    <Grid.Triggers>
                        <EventTrigger RoutedEvent="Grid.Loaded">
                            <BeginStoryboard>
                                <BeginStoryboard.Storyboard>
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" Storyboard.TargetName="MenuListStackPanel">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="200"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0">
                                                <EasingDoubleKeyFrame.EasingFunction>
                                                    <ExponentialEase EasingMode="EaseOut" Exponent="6"/>
                                                </EasingDoubleKeyFrame.EasingFunction>
                                            </EasingDoubleKeyFrame>
                                        </DoubleAnimationUsingKeyFrames>

                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Projection).(PlaneProjection.RotationY)" Storyboard.TargetName="MenuListStackPanel">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="-80"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.35" Value="0">
                                                <EasingDoubleKeyFrame.EasingFunction>
                                                    <ExponentialEase EasingMode="EaseOut" Exponent="6"/>
                                                </EasingDoubleKeyFrame.EasingFunction>
                                            </EasingDoubleKeyFrame>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="MenuListStackPanel">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.01" Value="1"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)" Storyboard.TargetName="MenuListStackPanel">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Visible</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </BeginStoryboard.Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Grid.Triggers>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="90"></RowDefinition>
                        <RowDefinition Height="*"></RowDefinition>
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0" Margin="0 20 0 0" BorderThickness="0 0 0 1" BorderBrush="{StaticResource PhoneBorderBrush}" Padding="6">
                        <TextBlock Text="资讯类别:" Foreground="White" FontSize="{StaticResource PhoneFontSizeLarge}"></TextBlock>
                    </Border>

                    <ListBox x:Name="NewsCategoryListBox"
                             Margin="0 12 0 0"
                             Padding="0 4 0 0"
                             Tap="NewsCategoryListBox_OnTap"
                             Grid.Row="1"
                        ItemTemplate="{StaticResource NewsTypeListBoxTemplate}" ItemContainerStyle="{StaticResource NewsTypeListBoxItemStyle}"></ListBox>
                </Grid>
            </Grid>
        </Popup>
    </Grid>

</phone:PhoneApplicationPage>